# Nginx Proxy Role

Install and configure Nginx reverse proxy for NetBox.

## Requirements

- Proxmox VE 8.x or 9.x
- LXC container with `debian_base` role applied
- NetBox application running (from `netbox_app` role)

## Role Variables

| Variable | Default | Description |
|----------|---------|-------------|
| `nginx_proxy_version` | `1.26` | Nginx version |
| `nginx_proxy_packages` | `[nginx, openssl]` | Packages to install |
| `nginx_proxy_ssl_dir` | `/etc/nginx/ssl` | SSL directory |
| `nginx_proxy_ssl_cert` | See defaults | SSL certificate path |
| `nginx_proxy_ssl_key` | See defaults | SSL key path |
| `nginx_proxy_ssl_days` | `365` | Certificate validity |
| `nginx_proxy_ssl_key_size` | `4096` | RSA key size |
| `nginx_proxy_ssl_subject` | See defaults | Certificate subject |
| `nginx_proxy_ssl_protocols` | `TLSv1.2 TLSv1.3` | TLS protocols |
| `nginx_proxy_ssl_ciphers` | `HIGH:!aNULL:!MD5` | SSL ciphers |
| `nginx_proxy_server_name` | `_` | Server name |
| `nginx_proxy_client_max_body_size` | `25m` | Max body size |
| `nginx_proxy_upstream_name` | `netbox` | Upstream name |

## Handlers

See `roles/nginx_proxy/handlers/main.yml`

## Dependencies

- `debian_base`

## Example Playbook

```yaml
- hosts: proxy
  roles:
    - role: nginx_proxy
      vars:
        container:
          vmid: 103
```

## Security Notes

- Self-signed certificates are generated by default
- Replace with valid certificates for production use

## License

MIT

## Author

NetBox Proxmox Team
